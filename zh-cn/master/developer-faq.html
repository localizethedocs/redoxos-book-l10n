<!DOCTYPE HTML>
<html lang="zh_CN" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Developer FAQ - The Redox Operating System</title>


        <!-- Custom HTML head -->
        <style>
        .light .redox-logo {
            content: url("assets/redox_light_512.png");
        }
        .rust .redox-logo {
            content: url("assets/redox_light_512.png");
        }
        .coal .redox-logo {
            content: url("assets/redox_dark_512.png");
        }
        .navy .redox-logo {
            content: url("assets/redox_dark_512.png");
        }
        .ayu .redox-logo {
            content: url("assets/redox_dark_512.png");
        }
        </style>
        <script type="text/javascript" src="ltd-provenance.js"></script>
        <script type="text/javascript" src="ltd-current.js"></script>
        <script type="text/javascript" src="../../ltd-config.js"></script>
        <script type="text/javascript" src="../../ltd-flyout.js"></script>

        <meta name="description" content="This book carefully describes the design, implementation, direction, and structure of Redox, the operating system.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Redox Operating System</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="developer-faq"><a class="header" href="#developer-faq">Developer FAQ</a></h1>
<p>The <a href="https://www.redox-os.org/faq/">General FAQ</a> have questions and answers of/for newcomers and end-users, while this FAQ contain organization, technical questions and answers of/for developers and testers, feel free to suggest new questions and answers.</p>
<p>(If the following questions aren't enough, ask us in the <a href="./chat.html">Chat</a>)</p>
<ul>
<li><a href="#general-questions">General Questions</a>
<ul>
<li><a href="#why-does-redox-have-unsafe-rust-code">Why does Redox have unsafe Rust code?</a></li>
<li><a href="#why-does-redox-have-assembly-code">Why does Redox have Assembly code?</a></li>
<li><a href="#why-does-redox-do-cross-compilation">Why does Redox do cross-compilation?</a></li>
<li><a href="#does-redox-support-opengl-and-vulkan">Does Redox support OpenGL and Vulkan?</a></li>
<li><a href="#how-can-i-port-a-program">How can I port a program?</a></li>
<li><a href="#how-can-i-write-a-driver">How can I write a driver?</a></li>
<li><a href="#how-can-i-debug">How can I debug?</a></li>
<li><a href="#what-is-the-software-and-hardware-requirements-for-development">What is the software and hardware requirements for development?</a></li>
</ul>
</li>
<li><a href="#build-system-questions">Build System Questions</a>
<ul>
<li><a href="#what-is-the-correct-way-to-update-the-build-system">What is the correct way to update the build system?</a></li>
<li><a href="#how-can-i-verify-if-my-build-system-is-up-to-date">How can I verify if my build system is up-to-date?</a></li>
<li><a href="#what-is-a-recipe">What is a recipe?</a></li>
<li><a href="#when-i-should-rebuild-the-build-system-or-recipes-from-scratch">When I should rebuild the build system or recipes from scratch?</a></li>
<li><a href="#how-can-i-test-my-changes-on-real-hardware">How can I test my changes on real hardware?</a></li>
<li><a href="#how-can-i-insert-files-to-the-redox-image">How can I insert files to the Redox image?</a></li>
<li><a href="#how-can-i-change-my-redox-variant">How can I change my Redox variant?</a></li>
<li><a href="#how-can-i-increase-the-filesystem-size-of-my-qemu-image">How can I increase the filesystem size of my QEMU image?</a></li>
<li><a href="#how-can-i-change-the-cpu-architecture-of-my-build-system">How can I change the CPU architecture of my build system?</a></li>
<li><a href="#how-can-i-cross-compile-to-arm64-from-a-x86-64-computer">How can I cross-compile to ARM64 from a x86-64 computer?</a></li>
<li><a href="#how-can-i-use-a-recipe-in-my-redox-image">How can I use a recipe in my Redox image?</a></li>
<li><a href="#how-to-update-initfs">How to update initfs?</a></li>
<li><a href="#i-made-changes-to-my-recipe-what-is-the-quickest-way-to-test-it-in-qemu">I made changes to my recipe. What is the quickest way to test it in QEMU?</a></li>
<li><a href="#i-made-changes-to-multiple-recipes-what-is-the-quickest-way-to-test-it-in-qemu">I made changes to multiple recipes. What is the quickest way to test it in QEMU?</a></li>
<li><a href="#how-can-i-disable-recipe-compilation">How can I disable recipe compilation?</a></li>
<li><a href="#how-can-i-disable-recipe-compilation-except-for-a-specific-recipe">How can I disable recipe compilation except for a specific recipe?</a></li>
<li><a href="#how-to-disable-the-automatic-recipe-source-update">How to disable the automatic recipe source update?</a></li>
<li><a href="#how-can-i-install-the-packages-needed-by-recipes-native-build-or-podman-without-a-new-download-of-the-build-system">How can I install the packages needed by recipes (Native Build) or Podman without a new download of the build system?</a></li>
<li><a href="#how-can-i-build-the-toolchain-from-source">How can I build the toolchain from source?</a></li>
</ul>
</li>
<li><a href="#porting-questions">Porting Questions</a>
<ul>
<li><a href="#how-to-determine-if-some-program-is-portable-to-redox">How to determine if some program is portable to Redox?</a></li>
<li><a href="#how-to-determine-the-dependencies-of-some-program">How to determine the dependencies of some program?</a></li>
<li><a href="#how-can-i-configure-the-build-system-of-the-recipe">How can I configure the build system of the recipe?</a></li>
<li><a href="#how-can-i-search-for-functions-on-relibc">How can I search for functions on relibc?</a></li>
<li><a href="#which-are-the-upstream-requirements-to-accept-my-recipe">Which are the upstream requirements to accept my recipe?</a></li>
<li><a href="#what-are-the-possible-problems-when-porting-programs-and-libraries">What are the possible problems when porting programs and libraries?</a></li>
<li><a href="#why-cc-programs-and-libraries-are-hard-and-time-consuming-to-port">Why C/C++ programs and libraries are hard and time consuming to port?</a></li>
</ul>
</li>
<li><a href="#scheme-questions">Scheme Questions</a>
<ul>
<li><a href="#what-is-a-scheme">What is a scheme?</a></li>
<li><a href="#when-does-a-regular-program-need-to-use-a-scheme">When does a regular program need to use a scheme?</a></li>
<li><a href="#when-would-i-write-a-program-to-implement-a-scheme">When would I write a program to implement a scheme?</a></li>
<li><a href="#how-do-i-use-a-scheme-for-sandboxing-a-program">How do I use a scheme for sandboxing a program?</a></li>
<li><a href="#how-can-i-see-all-userspace-schemes">How can I see all userspace schemes?</a></li>
<li><a href="#how-can-i-see-all-kernel-schemes">How can I see all kernel schemes?</a></li>
<li><a href="#what-is-the-difference-between-kernel-and-userspace-schemes">What is the difference between kernel and userspace schemes?</a></li>
<li><a href="#how-does-a-userspace-daemon-provide-file-like-services">How does a userspace daemon provide file-like services?</a></li>
<li><a href="#how-the-system-calls-are-used-by-userspace-daemons">How the system calls are used by userspace daemons?</a></li>
</ul>
</li>
<li><a href="#gitlab-questions">GitLab Questions</a>
<ul>
<li><a href="#how-to-properly-request-a-review-or-review-mrs">How to properly request a review or review MRs?</a></li>
<li><a href="#i-have-a-merge-request-with-many-commits-should-i-squash-them-after-merge">I have a merge request with many commits, should I squash them after merge?</a></li>
<li><a href="#should-i-delete-my-branch-after-merge">Should I delete my branch after merge?</a></li>
<li><a href="#how-can-i-have-an-anonymous-account">How can I have an anonymous account?</a></li>
</ul>
</li>
<li><a href="#documentation-questions">Documentation Questions</a>
<ul>
<li><a href="#how-can-i-write-code-documentation-properly">How can I write code documentation properly?</a></li>
<li><a href="#how-can-i-write-book-documentation-properly">How can I write book documentation properly?</a></li>
<li><a href="#how-can-i-insert-commands-or-code-correctly">How can I insert commands or code correctly?</a></li>
<li><a href="#how-can-i-create-diagrams">How can I create diagrams?</a></li>
</ul>
</li>
<li><a href="#troubleshooting-questions">Troubleshooting Questions</a>
<ul>
<li><a href="#scripts">Scripts</a>
<ul>
<li><a href="#i-cant-download-the-build-system-bootstrap-scripts-how-can-i-fix-this">I can't download the build system bootstrap scripts, how can I fix this?</a></li>
<li><a href="#i-tried-to-run-the-podman_bootstrapsh-and-native_bootstrapsh-scripts-but-got-an-error-how-to-fix-this">I tried to run the "podman_bootstrap.sh" and "native_bootstrap.sh" scripts but got an error, how to fix this?</a></li>
</ul>
</li>
<li><a href="#build-system">Build System</a>
<ul>
<li><a href="#i-ran-make-all-but-it-show-a-rustup-cant-be-found-message-how-can-i-fix-this">I ran "make all" but it show a "rustup can't be found" message, how can I fix this?</a></li>
<li><a href="#i-tried-all-troubleshooting-methods-but-my-build-system-is-still-broken-how-can-i-fix-that">I tried all troubleshooting methods but my build system is still broken, how can I fix that?</a></li>
</ul>
</li>
<li><a href="#recipes">Recipes</a>
<ul>
<li><a href="#i-had-an-error-with-a-recipe-how-can-i-fix-that">I had an error with a recipe, how can I fix that?</a></li>
<li><a href="#i-tried-all-methods-of-the-troubleshooting-the-build-page-and-my-recipe-still-doesnt-build-what-can-i-do">I tried all methods of the "Troubleshooting the Build" page and my recipe still doesn't build, what can I do?</a></li>
<li><a href="#when-i-run-make-rrecipe-i-get-a-syntax-error-how-can-i-fix-that">When I run "make r.recipe" I get a syntax error, how can I fix that?</a></li>
<li><a href="#when-i-run-cargo-update-on-some-recipe-source-it-call-rustup-to-install-other-rust-toolchain-version-how-can-i-fix-that">When I run "cargo update" on some recipe source it call Rustup to install other Rust toolchain version, how can I fix that?</a></li>
<li><a href="#i-added-the-dependency-of-my-program-in-the-recipetoml-file-but-the-program-build-system-doesnt-detect-it-then-i-installed-the-program-dependency-on-my-linux-distribution-and-it-detected-why">I added the dependency of my program in the "recipe.toml" file but the program build system doesn't detect it, then I installed the program dependency on my Linux distribution and it detected, why?</a></li>
<li><a href="#i-made-changes-to-system-daemons-drivers-and-redoxfs-but-they-arent-applied-in-the-redox-image-how-can-i-fix-that">I made changes to system daemons, drivers and RedoxFS but they aren't applied in the Redox image, how can I fix that?</a></li>
</ul>
</li>
<li><a href="#qemu">QEMU</a>
<ul>
<li><a href="#how-can-i-kill-the-qemu-process-if-redox-freezes-or-get-a-kernel-panic">How can I kill the QEMU process if Redox freezes or get a kernel panic?</a></li>
</ul>
</li>
<li><a href="#real-hardware">Real Hardware</a>
<ul>
<li><a href="#i-got-a-kernel-panic-what-can-i-do">I got a kernel panic, what can I do?</a></li>
<li><a href="#some-driver-is-not-working-with-my-hardware-what-can-i-do">Some driver is not working with my hardware, what can I do?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="general-questions"><a class="header" href="#general-questions">General Questions</a></h2>
<h3 id="why-does-redox-have-unsafe-rust-code"><a class="header" href="#why-does-redox-have-unsafe-rust-code">Why does Redox have unsafe Rust code?</a></h3>
<p>In some cases we must use <code>unsafe</code> declarations to allow some low-level tasks, for example at certain parts in the kernel and drivers, these unsafe parts are generally wrapped with a safe interface.</p>
<p>These are the cases where unsafe Rust is mandatory:</p>
<ul>
<li>Implementing a foreign function interface (FFI) (for example the relibc API)</li>
<li>Working with system calls directly (you should use <code>libredox</code>, <code>relibc</code> or Rust <code>libstd</code> library instead of <code>redox_syscall</code>)</li>
<li>Creating or managing processes and threads</li>
<li>Working with memory mapping and stack allocation</li>
<li>Working with hardware devices</li>
</ul>
<p>It is an important goal for Redox to minimize the amount of <code>unsafe</code> declared Rust code. If you want to use unsafe Rust code on Redox anywhere other than interfacing with system calls, ask for Jeremy Soller's approval before.</p>
<p>Unsafe Rust still has most of the compiler verification and allow some safe Rust syntax usage, thus still more safe than C and C++.</p>
<p>Read the following pages to learn more about Unsafe Rust:</p>
<ul>
<li>https://doc.rust-lang.org/book/ch20-01-unsafe-rust.html</li>
<li>https://doc.rust-lang.org/nomicon/meet-safe-and-unsafe.html</li>
</ul>
<h3 id="why-does-redox-have-assembly-code"><a class="header" href="#why-does-redox-have-assembly-code">Why does Redox have Assembly code?</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Assembly_language">Assembly</a> is the core of low-level because it's a CPU-specific programming language and deal with things that aren't possible or feasible to do in high-level languages like Rust.</p>
<p>Sometimes required or preferred for accessing hardware, or for carefully optimized hot spots.</p>
<p>Reasons to use Assembly instead of Rust:</p>
<ul>
<li>Deal with low-level things (those that can't be handled by Rust)</li>
<li>Writing constant time algorithms for cryptography</li>
<li>Optimizations</li>
</ul>
<p>Places where Assembly is used:</p>
<ul>
<li><code>kernel</code> - Interrupt and system call entry routines, context switching, special CPU instructions and registers</li>
<li><code>drivers</code> - Port IO need special instructions (x86_64)</li>
<li><code>relibc</code> - Some parts of the C runtime</li>
</ul>
<h3 id="why-does-redox-do-cross-compilation"><a class="header" href="#why-does-redox-do-cross-compilation">Why does Redox do cross-compilation?</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Cross_compiler">Cross-compilation</a> is when you build a program or library from one CPU architecture to another CPU architecture or one operating system to another operating system, but it require more configuration than native compilation.</p>
<p>Read some of the reasons below:</p>
<ul>
<li>When developing a new operating system you can't build programs inside of it because the system interfaces are premature. Thus you need to build the programs from your host system to the new OS and transfer the binaries to the filesystem of the new OS.</li>
<li>Cross-compilation reduces the porting requirements because you don't need to support the compiler of the program's programming language, the program's build system and build tools. You just need to port the programming language standard library (if used), program libraries or the program source code (dependency-free).</li>
<li>Some developers prefer to develop from other operating systems like Linux, MacOS, FreeBSD or Windows, the same applies for Linux where some developers write code on MacOS and test their kernel builds in a virtual machine (mostly QEMU) or real hardware.</li>
</ul>
<p>(Interpreted programs and scripts don't need cross-compilation but the programming language's interpreter or possible compiled dependencies needs to be ported and cross-compiled to Redox)</p>
<h3 id="does-redox-support-opengl-and-vulkan"><a class="header" href="#does-redox-support-opengl-and-vulkan">Does Redox support OpenGL and Vulkan?</a></h3>
<p>Read the <a href="./graphics-windowing.html#software-rendering">Software Rendering</a> section.</p>
<h3 id="how-can-i-port-a-program"><a class="header" href="#how-can-i-port-a-program">How can I port a program?</a></h3>
<p>Read the <a href="./porting-applications.html">Application Porting</a> page.</p>
<h3 id="how-can-i-write-a-driver"><a class="header" href="#how-can-i-write-a-driver">How can I write a driver?</a></h3>
<p>Read the <a href="https://gitlab.redox-os.org/redox-os/drivers/-/blob/master/README.md">drivers repository README</a>.</p>
<h3 id="how-can-i-debug"><a class="header" href="#how-can-i-debug">How can I debug?</a></h3>
<p>Read the <a href="./troubleshooting.html#debug-methods">Debug Methods</a> section.</p>
<h3 id="what-is-the-software-and-hardware-requirements-for-development"><a class="header" href="#what-is-the-software-and-hardware-requirements-for-development">What is the software and hardware requirements for development?</a></h3>
<ul>
<li>If you are using the Podman Build you need any Linux or Unix-like distribution supporting Podman 4.0 or newer and FUSE 3.x (if you have problems with FUSE in the host system there's <a href="./advanced-podman-build.html#installing-without-fuse">this</a> workaround to run FUSE inside the Podman container instead of host system)</li>
<li>If you are using the Native Build a recent Ubuntu, PopOS or Fedora version is recommended</li>
</ul>
<p>The following hardware requirements are enough for fast compilation of the system and most programs, but some heavy programs may require more.</p>
<ul>
<li>An Intel or AMD CPU newer than 10 years with 4 cores/threads or more</li>
<li>4GB DDR4 or more (8GB or 16GB for heavy programs)</li>
<li>50GB of storage space or more (a high-performance HDD, SSD, and NVMe is recommended)</li>
<li>An Internet connection good enough to not cause timeouts</li>
</ul>
<h2 id="build-system-questions"><a class="header" href="#build-system-questions">Build System Questions</a></h2>
<h3 id="what-is-the-correct-way-to-update-the-build-system"><a class="header" href="#what-is-the-correct-way-to-update-the-build-system">What is the correct way to update the build system?</a></h3>
<p>Read the <a href="./build-system-reference.html#update-the-build-system">Update The Build System</a> section.</p>
<h3 id="how-can-i-verify-if-my-build-system-is-up-to-date"><a class="header" href="#how-can-i-verify-if-my-build-system-is-up-to-date">How can I verify if my build system is up-to-date?</a></h3>
<p>After the <code>make pull</code> command, run the <code>git rev-parse HEAD</code> command to verify if it match the latest commit hash on <a href="https://gitlab.redox-os.org/redox-os/redox/-/commits/master?ref_type=HEADS">GitLab</a>.</p>
<h3 id="what-is-a-recipe"><a class="header" href="#what-is-a-recipe">What is a recipe?</a></h3>
<p>A software port to Redox</p>
<h3 id="when-i-should-rebuild-the-build-system-or-recipes-from-scratch"><a class="header" href="#when-i-should-rebuild-the-build-system-or-recipes-from-scratch">When I should rebuild the build system or recipes from scratch?</a></h3>
<p>Sometimes the execution of the <code>make pull rebuild</code> command is not enough to update the build system and recipes because of breaking changes, learn what to do on the following changes:</p>
<ul>
<li>New relibc functions and fixes: to allow a recipe to use the new relibc functions you need to rebuilt it with the <code>make cr.recipe-name</code> command, sometimes relibc fixes require a complete system rebuild by running the <code>make c.--all all</code> command</li>
<li>Dependency changes on recipes: if the shared objects had symbol changes or the recipe is statically linked, run the <code>make cr.recipe-name</code> command</li>
<li>Configuration changes on recipes: run the <code>make cr.recipe-name</code> command</li>
<li>Source code changes on recipes: if the shared objects had symbol changes or the recipe is statically linked, run the <code>make ucr.recipe-name</code> command</li>
<li>Changes on the location of the build system artifacts: run the <code>make clean pull all</code> command to not cause breakage with the previous artifacts locations, if the previous location of the build artifacts had contents you can try to fix manually or download the build system again to avoid confusion or fix difficult breakage</li>
</ul>
<h3 id="how-can-i-test-my-changes-on-real-hardware"><a class="header" href="#how-can-i-test-my-changes-on-real-hardware">How can I test my changes on real hardware?</a></h3>
<p>Read the <a href="./coding-and-building.html#testing-on-real-hardware">Testing on Real Hardware</a> section.</p>
<h3 id="how-can-i-insert-files-to-the-redox-image"><a class="header" href="#how-can-i-insert-files-to-the-redox-image">How can I insert files to the Redox image?</a></h3>
<p>If you use a <a href="./coding-and-building.html#insert-files-on-the-qemu-image-using-a-recipe">recipe</a> your changes will persist after the <code>make image</code> command, but you can also <a href="./coding-and-building.html#insert-files-on-the-qemu-image">mount</a> the Redox filesystem to insert them directly.</p>
<h3 id="how-can-i-change-my-redox-variant"><a class="header" href="#how-can-i-change-my-redox-variant">How can I change my Redox variant?</a></h3>
<p>Insert the <code>CONFIG_NAME?=your-config-name</code> environment variable to your <code>.config</code> file, read the <a href="./configuration-settings.html#config">config</a> section for more details.</p>
<h3 id="how-can-i-increase-the-filesystem-size-of-my-qemu-image"><a class="header" href="#how-can-i-increase-the-filesystem-size-of-my-qemu-image">How can I increase the filesystem size of my QEMU image?</a></h3>
<p>Change the <code>filesystem_size</code> data type of your filesystem configuration at: <code>config/your-cpu-arch/your-config.toml</code> and run the <code>make image</code> command, read the <a href="./configuration-settings.html#filesystem-size">Filesystem Size</a> section for more details.</p>
<h3 id="how-can-i-change-the-cpu-architecture-of-my-build-system"><a class="header" href="#how-can-i-change-the-cpu-architecture-of-my-build-system">How can I change the CPU architecture of my build system?</a></h3>
<p>Insert the <code>ARCH?=your-cpu-arch</code> environment variable on your <code>.config</code> file and run the <code>make all</code> command, read the <a href="./configuration-settings.html#config">config</a> section for more details.</p>
<p>If you want to do it temporarily run the <code>make all ARCH=your-cpu-arch</code> command.</p>
<p>If you want to clean the binaries of the previous CPU architecture run the following command:</p>
<pre><code class="language-sh">make c.--all ARCH=previous-cpu-arch
</code></pre>
<h3 id="how-can-i-cross-compile-to-arm64-from-a-x86-64-computer"><a class="header" href="#how-can-i-cross-compile-to-arm64-from-a-x86-64-computer">How can I cross-compile to ARM64 from a x86-64 computer?</a></h3>
<p>Insert the <code>ARCH?=aarch64</code> environment variable on your <code>.config</code> file and run the <code>make all</code> command.</p>
<p>If you want to do it temporarily run the <code>make all ARCH=aarch64</code> command.</p>
<h3 id="how-can-i-use-a-recipe-in-my-redox-image"><a class="header" href="#how-can-i-use-a-recipe-in-my-redox-image">How can I use a recipe in my Redox image?</a></h3>
<p>If you want to quickly install the recipe package until the next image creation, run the following command:</p>
<pre><code class="language-sh">make rp.recipe-name
</code></pre>
<p>Or (if you want to use a remote package if you want to use it more quickly)</p>
<pre><code class="language-sh">make rp.recipe-name REPO_BINARY=1
</code></pre>
<p>If you want to permanently install the recipe on your image, read the following steps.</p>
<ul>
<li>Go to your filesystem configuration and add the recipe:</li>
</ul>
<pre><code class="language-sh">nano config/your-cpu-arch/your-config.toml
</code></pre>
<pre><code class="language-toml">[packages]
...
recipe-name = {}
...
</code></pre>
<p>Or (for a remote package)</p>
<pre><code class="language-toml">[packages]
...
recipe-name = "binary"
...
</code></pre>
<ul>
<li>Build the recipe and install in a existing image</li>
</ul>
<pre><code class="language-sh">make rp.recipe-name
</code></pre>
<p>Or (for a remote package)</p>
<pre><code class="language-sh">make rp.recipe-name REPO_BINARY=1
</code></pre>
<h2 id="how-to-update-initfs"><a class="header" href="#how-to-update-initfs">How to update initfs?</a></h2>
<p>initfs don't automatically add your changes to system daemons, drivers or RedoxFS and need manual rebuild.</p>
<p>Read <a href="./coding-and-building.html#how-to-update-initfs">this</a> section to learn how to do it.</p>
<h3 id="i-made-changes-to-my-recipe-what-is-the-quickest-way-to-test-it-in-qemu"><a class="header" href="#i-made-changes-to-my-recipe-what-is-the-quickest-way-to-test-it-in-qemu">I made changes to my recipe. What is the quickest way to test it in QEMU?</a></h3>
<p>If you did incremental changes (which don't change the binary symbols), run the following command:</p>
<ul>
<li>Rebuild the recipe, install to an existing image and launch QEMU</li>
</ul>
<pre><code class="language-sh">make rp.recipe-name qemu
</code></pre>
<p>If you did breaking changes (which changed the binary symbols) run the following command:</p>
<ul>
<li>Rebuild the recipe, install to an existing image and launch QEMU</li>
</ul>
<pre><code class="language-sh">make crp.recipe-name qemu
</code></pre>
<h3 id="i-made-changes-to-multiple-recipes-what-is-the-quickest-way-to-test-it-in-qemu"><a class="header" href="#i-made-changes-to-multiple-recipes-what-is-the-quickest-way-to-test-it-in-qemu">I made changes to multiple recipes. What is the quickest way to test it in QEMU?</a></h3>
<ul>
<li>Rebuild the modified recipes, install to an existing image and launch QEMU:</li>
</ul>
<pre><code class="language-sh">make rp.recipe1,recipe2 qemu
</code></pre>
<p>If you don't want to specify all modified recipes run the following command:</p>
<ul>
<li>Rebuild the modified recipes, install to an existing image and launch QEMU:</li>
</ul>
<pre><code class="language-sh">make repo push qemu
</code></pre>
<h3 id="how-can-i-disable-the-recipe-compilation"><a class="header" href="#how-can-i-disable-the-recipe-compilation">How can I disable the recipe compilation?</a></h3>
<p>Insert the <code>REPO_BINARY?=1</code> environment variable to your <code>.config</code> file, it will download pre-compiled recipe packages from the <a href="https://static.redox-os.org/pkg/">build server</a> if available.</p>
<h3 id="how-can-i-disable-recipe-compilation-except-for-a-specific-recipe"><a class="header" href="#how-can-i-disable-recipe-compilation-except-for-a-specific-recipe">How can I disable recipe compilation except for a specific recipe?</a></h3>
<p>After inserting the <code>REPO_BINARY?=1</code> environment variable to your <code>.config</code> file, go to your filesystem configuration and add the source-based variant of the recipe:</p>
<pre><code class="language-sh">nano config/your-cpu-arch/your-config.toml
</code></pre>
<pre><code class="language-toml">[packages]
...
recipe-name = "source"
...
</code></pre>
<ul>
<li>Install the recipe package in the Redox image</li>
</ul>
<pre><code class="language-sh">make rp.recipe-name
</code></pre>
<p>Or (if the above doesn't work)</p>
<pre><code class="language-sh">make rebuild
</code></pre>
<h3 id="how-to-disable-the-automatic-recipe-source-update"><a class="header" href="#how-to-disable-the-automatic-recipe-source-update">How to disable the automatic recipe source update?</a></h3>
<p>The build system automatically update recipe sources if new upstream commits exist, which can break your local changes.</p>
<p>To learn how to disable it for one or multiple recipes read <a href="./configuration-settings.html#local-recipe-changes">this</a> section.</p>
<p>To learn how to disable it for all recipes read <a href="./configuration-settings.html#cookbook-offline-mode">this</a> section.</p>
<h3 id="how-can-i-install-the-packages-needed-by-recipes-native-build-or-podman-without-a-new-download-of-the-build-system"><a class="header" href="#how-can-i-install-the-packages-needed-by-recipes-native-build-or-podman-without-a-new-download-of-the-build-system">How can I install the packages needed by recipes (Native Build) or Podman without a new download of the build system?</a></h3>
<ul>
<li>Run the following command from your build system:</li>
</ul>
<pre><code class="language-sh">./native_bootstrap.sh -d
</code></pre>
<p>(If you are using Podman this process is automatic)</p>
<p>Or (for Podman dependencies)</p>
<ul>
<li>Run the following command from your build system:</li>
</ul>
<pre><code class="language-sh">./podman_bootstrap.sh -d
</code></pre>
<h3 id="how-can-i-build-the-toolchain-from-source"><a class="header" href="#how-can-i-build-the-toolchain-from-source">How can I build the toolchain from source?</a></h3>
<ul>
<li>Disable the <code>PREFIX_BINARY</code> environment variable inside of your <code>.config</code> file:</li>
</ul>
<pre><code class="language-sh">nano .config
</code></pre>
<pre><code>PREFIX_BINARY?=0
</code></pre>
<ul>
<li>Clean the previous toolchain binaries and build new ones:</li>
</ul>
<pre><code class="language-sh">rm -rf prefix
</code></pre>
<pre><code class="language-sh">make prefix
</code></pre>
<ul>
<li>Clean the previous recipe binaries and build again with the new toolchain:</li>
</ul>
<pre><code class="language-sh">make c.--all all
</code></pre>
<h2 id="porting-questions"><a class="header" href="#porting-questions">Porting Questions</a></h2>
<h3 id="how-to-determine-if-some-program-is-portable-to-redox"><a class="header" href="#how-to-determine-if-some-program-is-portable-to-redox">How to determine if some program is portable to Redox?</a></h3>
<ul>
<li>The source code of the program must be available</li>
<li>The program should use cross-platform libraries (if not, more porting effort is required)</li>
<li>The program's build system should support cross-compilation (if not, more porting effort is required)</li>
<li>The program shouldn't directly use the Linux kernel API on its code (if not, more porting effort is required)</li>
</ul>
<p>Some APIs of the Linux kernel can be ported while others not, because they require a complete Linux kernel.</p>
<h3 id="how-to-determine-the-dependencies-of-some-program"><a class="header" href="#how-to-determine-the-dependencies-of-some-program">How to determine the dependencies of some program?</a></h3>
<p>Read the <a href="./porting-applications.html#dependencies">Dependencies</a> section.</p>
<h3 id="how-can-i-configure-the-build-system-of-the-recipe"><a class="header" href="#how-can-i-configure-the-build-system-of-the-recipe">How can I configure the build system of the recipe?</a></h3>
<p>Read the <a href="./porting-applications.html#templates">Templates</a> section.</p>
<h3 id="how-can-i-search-for-functions-on-relibc"><a class="header" href="#how-can-i-search-for-functions-on-relibc">How can I search for functions on relibc?</a></h3>
<p>Read the <a href="./porting-applications.html#search-for-functions-on-relibc">Search For Functions on Relibc</a> section.</p>
<h3 id="which-are-the-upstream-requirements-to-accept-my-recipe"><a class="header" href="#which-are-the-upstream-requirements-to-accept-my-recipe">Which are the upstream requirements to accept my recipe?</a></h3>
<p>Read the <a href="./porting-applications.html#package-policy">Package Policy</a> section.</p>
<h3 id="what-are-the-possible-problems-when-porting-programs-and-libraries"><a class="header" href="#what-are-the-possible-problems-when-porting-programs-and-libraries">What are the possible problems when porting programs and libraries?</a></h3>
<ul>
<li>Missing build tools</li>
<li>Cross-compilation configuration problems</li>
<li>Lack of Redox patches</li>
<li>Missing C, POSIX or Linux library functions in relibc</li>
<li>Runtime crashes or errors</li>
</ul>
<h3 id="why-cc-programs-and-libraries-are-hard-and-time-consuming-to-port"><a class="header" href="#why-cc-programs-and-libraries-are-hard-and-time-consuming-to-port">Why C/C++ programs and libraries are hard and time consuming to port?</a></h3>
<ul>
<li>C/C++ don't have an official, advanced and automatic dependency manager and build system which force programs and libraries to select competing build systems with different configurations (GNU Make, GNU Autotools, CMake, Meson and others), projects like <a href="https://conan.io/">Conan</a> and <a href="https://vcpkg.io/">vcpkg</a> tried to solve this problem but weren't adopted by most programs/libraries and lack many libraries</li>
<li>Programs and libraries need to manually manage the library versions, to workaround this some programs use bundled libraries which can difficult patching when needed</li>
<li>Some build systems lack a good cross-compilation support which require more tweaks and sometimes hacks</li>
<li>As libraries are manually managed programs with many dependencies can take hours to port depending on available library documentation/configuration and developer experience</li>
<li>Some programs and libraries have bad or lacking documentation about build instructions and configuration</li>
</ul>
<h2 id="scheme-questions"><a class="header" href="#scheme-questions">Scheme Questions</a></h2>
<h3 id="what-is-a-scheme"><a class="header" href="#what-is-a-scheme">What is a scheme?</a></h3>
<p>Read the <a href="./schemes-resources.html">Schemes and Resources</a> page.</p>
<h3 id="when-does-a-regular-program-need-to-use-a-scheme"><a class="header" href="#when-does-a-regular-program-need-to-use-a-scheme">When does a regular program need to use a scheme?</a></h3>
<p>Most schemes are used internally by system components or relibc, you don't need to access them directly. One exception is the pseudoterminal for your command window, which is accessed using the value of <code>$TTY</code>, which might have a value of e.g. <code>pty:18</code>. Some low-level graphics programming might require you to access your display, which might have a value of e.g. <code>display:3</code></p>
<h3 id="when-would-i-write-a-program-to-implement-a-scheme"><a class="header" href="#when-would-i-write-a-program-to-implement-a-scheme">When would I write a program to implement a scheme?</a></h3>
<p>If you are implementing a kernel service, userspace service or a device driver.</p>
<h3 id="how-do-i-use-a-scheme-for-sandboxing-a-program"><a class="header" href="#how-do-i-use-a-scheme-for-sandboxing-a-program">How do I use a scheme for sandboxing a program?</a></h3>
<p>The <a href="https://gitlab.redox-os.org/redox-os/contain">contain</a> program provides a partial implementation of sandboxing using schemes and namespaces.</p>
<h3 id="how-can-i-see-all-userspace-schemes"><a class="header" href="#how-can-i-see-all-userspace-schemes">How can I see all userspace schemes?</a></h3>
<p>Read the <a href="./schemes.html#userspace-schemes">Userspace Schemes</a> section.</p>
<h3 id="how-can-i-see-all-kernel-schemes"><a class="header" href="#how-can-i-see-all-kernel-schemes">How can I see all kernel schemes?</a></h3>
<p>Read the <a href="./schemes.html#kernel-schemes">Kernel Schemes</a> section.</p>
<h3 id="what-is-the-difference-between-kernel-and-userspace-schemes"><a class="header" href="#what-is-the-difference-between-kernel-and-userspace-schemes">What is the difference between kernel and userspace schemes?</a></h3>
<p>Read the <a href="./schemes.html#kernel-vs-userspace-schemes">Kernel vs Userspace Schemes</a> section.</p>
<h3 id="how-does-a-userspace-daemon-provide-file-like-services"><a class="header" href="#how-does-a-userspace-daemon-provide-file-like-services">How does a userspace daemon provide file-like services?</a></h3>
<p>When a regular program calls <code>open</code>, <code>read</code>, <code>write</code>, etc. on a file-like resource, the kernel translates that to a message of type <code>syscall::data::Packet</code>, describing the file operation, and makes it available for reading on the appropriate daemon's scheme file descriptor. See the <a href="./scheme-operation.html#providing-a-scheme">Providing A Scheme</a> section for more information.</p>
<h3 id="how-the-system-calls-are-used-by-userspace-daemons"><a class="header" href="#how-the-system-calls-are-used-by-userspace-daemons">How the system calls are used by userspace daemons?</a></h3>
<p>All userspace daemons use the system calls through <a href="https://gitlab.redox-os.org/redox-os/relibc">relibc</a> like any normal program.</p>
<h2 id="gitlab-questions"><a class="header" href="#gitlab-questions">GitLab Questions</a></h2>
<h3 id="how-to-properly-request-a-review-or-review-mrs"><a class="header" href="#how-to-properly-request-a-review-or-review-mrs">How to properly request a review or review MRs?</a></h3>
<p>These rules prevent you from wasting time and stress.</p>
<ul>
<li><strong>Don't edit your code suggestions without a warning before to prevent merge errors and review disorganization</strong></li>
<li>If you are requesting a review it's recommended that it's done by one reviewer per time to avoid extra coordination effort with multiple reviewers to confirm when each reviewer finished their review, but if you accept multiple reviewers at once <strong>each reviewer should warn when started and finished its review to prevent code suggestion conflicts between reviewers due to possible different file states while you apply the code suggestions</strong></li>
<li>If you are requesting a review where code suggestions will not be used, you can accept multiple reviewers without coordination of when they started and finished their reviews</li>
<li>Once you finish your review warn to avoid conflicts with other reviewers</li>
<li>It's recommended to use code suggestions for normal text and code to help and save time for developers, that way they can quickly improve or apply the text or code.</li>
</ul>
<p>You can start a code suggestion by clicking on the file icon with the + symbol when you click to comment in some line of a file.</p>
<h3 id="i-have-a-merge-request-with-many-commits-should-i-squash-them-after-merge"><a class="header" href="#i-have-a-merge-request-with-many-commits-should-i-squash-them-after-merge">I have a merge request with many commits, should I squash them after merge?</a></h3>
<p>If they don't have relevant informaiton on titles, yes.</p>
<h3 id="should-i-delete-my-branch-after-merge"><a class="header" href="#should-i-delete-my-branch-after-merge">Should I delete my branch after merge?</a></h3>
<p>Yes.</p>
<h3 id="how-can-i-have-an-anonymous-account"><a class="header" href="#how-can-i-have-an-anonymous-account">How can I have an anonymous account?</a></h3>
<p>During the account creation process you can add a fake name on the "First Name" and "Last Name" fields and change it later after your account approval (single name field is supported).</p>
<p>Read the <a href="./coding-and-building.html#anonymous-commits">Anonymous Commits</a> section if you need more anonymity.</p>
<h2 id="documentation-questions"><a class="header" href="#documentation-questions">Documentation Questions</a></h2>
<h3 id="how-can-i-write-code-documentation-properly"><a class="header" href="#how-can-i-write-code-documentation-properly">How can I write code documentation properly?</a></h3>
<p>Read the following pages:</p>
<ul>
<li><a href="./literate-programming.html">Literate programming</a></li>
<li><a href="./writing-docs-correctly.html">Writting Documentation Correctly</a></li>
</ul>
<h3 id="how-can-i-write-book-documentation-properly"><a class="header" href="#how-can-i-write-book-documentation-properly">How can I write book documentation properly?</a></h3>
<p><strong>Read the entire book before writing new documentation and submiting MRs to avoid information duplication</strong></p>
<ul>
<li>Only add work-in-progress information if really necessary, as it may unnecessarily increases maintenance cost</li>
<li>Don't use informal grammar abbreviations such as "config" (except technical terms such as "CPU")</li>
<li>Use spaces instead of tabs to avoid formatting breakage with different text editor tab configurations</li>
<li>Use <a href="https://en.wikipedia.org/wiki/Serial_comma">Oxford commas</a></li>
<li>The documentation grammar is not strictly formal to allow better understanding and readability, the grammar is a mix of American, British and International English</li>
</ul>
<h3 id="how-can-i-insert-commands-or-code-correctly"><a class="header" href="#how-can-i-insert-commands-or-code-correctly">How can I insert commands or code correctly?</a></h3>
<p>Commands or code should be inserted inside Markdown code blocks (using 3 backticks above and below the line of the command), for example:</p>
<pre><code>your-command-or-code
</code></pre>
<ul>
<li>Multiple commands should use an unique code block for each command to allow them to be copied with one cursor click</li>
<li>If you can't use a code block due to incompatible wording in the explanation, you can use the simple code highlighting using 1 backtick before and after the command on the same line</li>
</ul>
<h3 id="how-can-i-create-diagrams"><a class="header" href="#how-can-i-create-diagrams">How can I create diagrams?</a></h3>
<p>For diagrams to this book read <a href="https://gohugo.io/content-management/diagrams/">this</a> article.</p>
<p>For diagrams to the GitLab web interface the GitLab Markdown has support for some diagram syntaxes, read <a href="https://docs.gitlab.com/user/markdown/#diagrams-and-flowcharts">this</a> article to learn how to use them.</p>
<h2 id="troubleshooting-questions"><a class="header" href="#troubleshooting-questions">Troubleshooting Questions</a></h2>
<h3 id="scripts"><a class="header" href="#scripts">Scripts</a></h3>
<h4 id="i-cant-download-the-build-system-bootstrap-scripts-how-can-i-fix-this"><a class="header" href="#i-cant-download-the-build-system-bootstrap-scripts-how-can-i-fix-this">I can't download the build system bootstrap scripts, how can I fix this?</a></h4>
<p>Verify if you have <code>curl</code> installed or download the script from your web browser.</p>
<h4 id="i-tried-to-run-the-podman_bootstrapsh-and-native_bootstrapsh-scripts-but-got-an-error-how-to-fix-this"><a class="header" href="#i-tried-to-run-the-podman_bootstrapsh-and-native_bootstrapsh-scripts-but-got-an-error-how-to-fix-this">I tried to run the "podman_bootstrap.sh" and "native_bootstrap.sh" scripts but got an error, how to fix this?</a></h4>
<ul>
<li>Verify if you have the GNU Bash shell installed on your system.</li>
<li>Verify if Podman is supported on your operating system.</li>
<li>Verify if your operating system is <a href="./building-redox.html#supported-unix-like-distributions-and-podman-build">supported</a> on the <code>native_bootstrap.sh</code> script</li>
</ul>
<h3 id="build-system"><a class="header" href="#build-system">Build System</a></h3>
<h4 id="i-ran-make-all-but-it-show-a-rustup-cant-be-found-message-how-can-i-fix-this"><a class="header" href="#i-ran-make-all-but-it-show-a-rustup-cant-be-found-message-how-can-i-fix-this">I ran "make all" but it show a "rustup can't be found" message, how can I fix this?</a></h4>
<p>Run the following command:</p>
<pre><code class="language-sh">source ~/.cargo/env
</code></pre>
<p>(If you installed rustup before the first <code>podman_bootstrap.sh</code> or <code>native_bootstrap.sh</code> execution, this error doesn't happen)</p>
<h4 id="i-tried-all-troubleshooting-methods-but-my-build-system-is-still-broken-how-can-i-fix-that"><a class="header" href="#i-tried-all-troubleshooting-methods-but-my-build-system-is-still-broken-how-can-i-fix-that">I tried all troubleshooting methods but my build system is still broken, how can I fix that?</a></h4>
<p>If the <code>make clean pull container_clean all</code> command doesn't work download a new build system copy or wait for an upstream fix.</p>
<h3 id="recipes"><a class="header" href="#recipes">Recipes</a></h3>
<h4 id="i-had-an-error-with-a-recipe-how-can-i-fix-that"><a class="header" href="#i-had-an-error-with-a-recipe-how-can-i-fix-that">I had an error with a recipe, how can I fix that?</a></h4>
<p>Read the <a href="./troubleshooting.html#solving-compilation-problems">Solving Compilation Problems</a> section.</p>
<h4 id="i-tried-all-methods-of-the-troubleshooting-the-build-page-and-my-recipe-still-doesnt-build-what-it-can-be"><a class="header" href="#i-tried-all-methods-of-the-troubleshooting-the-build-page-and-my-recipe-still-doesnt-build-what-it-can-be">I tried all methods of the "Troubleshooting the Build" page and my recipe still doesn't build, what it can be?</a></h4>
<ul>
<li>Missing dependencies</li>
<li>Environment leakage: when some part of the recipe build system does native Linux compilation instead of cross-compilation to Redox</li>
<li>Misconfigured cross-compilation</li>
<li>The recipe needs to be ported to Redox</li>
</ul>
<h4 id="when-i-run-make-rrecipe-i-get-a-syntax-error-how-can-i-fix-that"><a class="header" href="#when-i-run-make-rrecipe-i-get-a-syntax-error-how-can-i-fix-that">When I run "make r.recipe" I get a syntax error, how can I fix that?</a></h4>
<p>Verify if your <code>recipe.toml</code> file has some typo, missing data type or value.</p>
<h4 id="when-i-run-cargo-update-on-some-recipe-source-it-call-rustup-to-install-other-rust-toolchain-version-how-can-i-fix-that"><a class="header" href="#when-i-run-cargo-update-on-some-recipe-source-it-call-rustup-to-install-other-rust-toolchain-version-how-can-i-fix-that">When I run "cargo update" on some recipe source it call rustup to install other Rust toolchain version, how can I fix that?</a></h4>
<p>It happens because Cargo is not using the Redox fork of the Rust compiler, to fix that run <code>make env</code> from the Redox build system root.</p>
<p>It will import the Redox Makefile environment variables to your active shell (it already does that when you run other <code>make</code> commands from the Redox build system root).</p>
<h4 id="i-added-the-dependency-of-my-program-in-the-recipetoml-file-but-the-program-build-system-doesnt-detect-it-then-i-installed-the-program-dependency-on-my-linux-distribution-and-it-detected-why"><a class="header" href="#i-added-the-dependency-of-my-program-in-the-recipetoml-file-but-the-program-build-system-doesnt-detect-it-then-i-installed-the-program-dependency-on-my-linux-distribution-and-it-detected-why">I added the dependency of my program in the "recipe.toml" file but the program build system doesn't detect it, then I installed the program dependency on my Linux distribution and it detected, why?</a></h4>
<p>Read the <a href="./troubleshooting.html#environment-leakage">Environment Leakage</a> section.</p>
<h4 id="i-made-changes-to-system-daemons-drivers-and-redoxfs-but-they-arent-applied-in-the-redox-image-how-can-i-fix-that"><a class="header" href="#i-made-changes-to-system-daemons-drivers-and-redoxfs-but-they-arent-applied-in-the-redox-image-how-can-i-fix-that">I made changes to system daemons, drivers and RedoxFS but they aren't applied in the Redox image, how can I fix that?</a></h4>
<p>You forgot to update initfs which is manual, read <a href="./coding-and-building.html#how-to-update-initfs">this</a> section to learn how to do this.</p>
<h3 id="qemu"><a class="header" href="#qemu">QEMU</a></h3>
<h4 id="how-can-i-kill-the-qemu-process-if-redox-freezes-or-get-a-kernel-panic"><a class="header" href="#how-can-i-kill-the-qemu-process-if-redox-freezes-or-get-a-kernel-panic">How can I kill the QEMU process if Redox freezes or get a kernel panic?</a></h4>
<p>Read the <a href="./troubleshooting.html#kill-a-frozen-redox-vm">Kill A Frozen Redox VM</a> section.</p>
<h3 id="real-hardware"><a class="header" href="#real-hardware">Real Hardware</a></h3>
<h4 id="i-got-a-kernel-panic-what-can-i-do"><a class="header" href="#i-got-a-kernel-panic-what-can-i-do">I got a kernel panic, what can I do?</a></h4>
<p>Read the <a href="./troubleshooting.html#kernel-panic">Kernel Panic</a> section.</p>
<h4 id="some-driver-is-not-working-with-my-hardware-what-can-i-do"><a class="header" href="#some-driver-is-not-working-with-my-hardware-what-can-i-do">Some driver is not working with my hardware, what can I do?</a></h4>
<p>Read the <a href="./troubleshooting.html#debug-methods">Debug Methods</a> section and ask us for instructions in the <a href="./chat.html">Matrix chat</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="developing-for-redox.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="references.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="developing-for-redox.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="references.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
