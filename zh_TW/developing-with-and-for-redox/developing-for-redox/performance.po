msgid ""
msgstr ""
"Project-Id-Version: The Redox Operating System\n"
"POT-Creation-Date: 2026-02-09T03:19:51Z\n"
"PO-Revision-Date: \n"
"Last-Translator: \n"
"Language-Team: \n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: src/performance.md:1
msgid "Performance"
msgstr ""

#: src/performance.md:3
msgid "[Kernel Profiling](#kernel-profiling)"
msgstr ""

#: src/performance.md:4
msgid "[Benchmarks](#benchmarks)"
msgstr ""

#: src/performance.md:6
msgid "Kernel Profiling"
msgstr ""

#: src/performance.md:8
msgid ""
"You can create a flamegraph showing the kernel's most frequent operations, "
"using time-based sampling."
msgstr ""

#: src/performance.md:10
msgid ""
"One CPU core is allocated for capturing the profiling data. The instruction "
"pointers of the other cores are copied at regular intervals. If the sampled "
"core is in supervisor mode, the instruction address is added to the profile "
"data. If it is in user mode, it is ignored. The `profiled` daemon copies the "
"captured profile data to a file."
msgstr ""

#: src/performance.md:12
msgid ""
"This is an example flamegraph. If you open the image in a new tab, there is "
"useful mouse-over behavior."
msgstr ""

#: src/performance.md:14
msgid ""
"![Kernel Flamegraph](./assets/kernel_flamegraph.svg \"Kernel Flamegraph\")"
msgstr ""

#: src/performance.md:16
msgid ""
"The steps below are for profiling on `x86_64`, running in `QEMU`. It is "
"possible to run the tests on real hardware, although retrieving the data may "
"be challenging."
msgstr ""

#: src/performance.md:18
msgid "Setup"
msgstr ""

#: src/performance.md:20
msgid "Open a terminal window in the `redox` directory."
msgstr ""

#: src/performance.md:22
msgid "Install tools:"
msgstr ""

#: src/performance.md:32
msgid "Make sure you have the kernel source by running `make f.kernel`."
msgstr ""

#: src/performance.md:34
msgid "Open a second terminal window in the directory `recipes/core/kernel`"
msgstr ""

#: src/performance.md:36
msgid ""
"Edit `recipe.toml` in the `kernel` directory. First, comment out the "
"`[source]` section so the build process does not try to fetch the source "
"again."
msgstr ""

#: src/performance.md:38
msgid ""
"```toml\n"
"# [source]\n"
"# git = \"https://gitlab.redox-os.org/redox-os/kernel.git\"\n"
"```"
msgstr ""

#: src/performance.md:43
msgid ""
"You need to enable the `profiling` feature for the kernel. This can be done "
"two ways, either in `recipe.toml` or in `source/Cargo.toml`. For `recipe."
"toml`, add the line `--features profiling \\` to the `cargo` command. (The "
"backslash is needed to continue the command.)"
msgstr ""

#: src/performance.md:52
msgid ""
"If you prefer to modify `source/Cargo.toml`, then you can add `profiling` to "
"the default features. (This also helps if you are using an IDE.)"
msgstr ""

#: src/performance.md:54
msgid ""
"```toml\n"
"[features]\n"
"default = [\"profiling\", ...]\n"
"```"
msgstr ""

#: src/performance.md:59
msgid ""
"(Optional) In the `kernel` directory, edit `source/src/profiling.rs`: set "
"`HARDCODED_CPU_COUNT` to the number of CPU cores on the machine that will be "
"profiled, minus one (one core is dedicated to profiling). Also consider "
"changing the size of the buffers used for recording profile data, `const N: "
"usize`, depending on how much RAM is available. 64MiB is a reasonable "
"minimum, but if you have the memory available, you can increase it to 256MiB."
msgstr ""

#: src/performance.md:61
msgid ""
"The profiling code is written primarily for QEMU, but for real hardware, "
"consider commenting out the `serio_command` code in `profiling.rs`, which is "
"to enable or disable profiling."
msgstr ""

#: src/performance.md:63
msgid ""
"In your first terminal window, from the `redox` directory, create the "
"filesystem config `config/x86_64/my_profiler.toml` with the following "
"content."
msgstr ""

#: src/performance.md:65
msgid ""
"```toml\n"
"include = [ \"minimal.toml\" ]\n"
"\n"
"# General settings\n"
"[general]\n"
"# Filesystem size in MiB\n"
"filesystem_size = 1024\n"
"\n"
"# Package settings\n"
"[packages]\n"
"# This is the profiling daemon\n"
"profiled = {}\n"
"# Add any other packages you need for testing here\n"
"\n"
"# Init script to start the profile daemon\n"
"# The sequence number \"01\" ensures it will be started right after the "
"drivers\n"
"[[files]]\n"
"path = \"/usr/lib/init.d/01_profile\"\n"
"data = \"\"\"\n"
"profiled\n"
"\"\"\"\n"
"\n"
"[[files]]\n"
"path = \"/usr/bin/perf_tests.sh\"\n"
"data = \"\"\"\n"
"dd bs=4k count=100000 < /scheme/zero > /scheme/null\n"
"\"\"\"\n"
"\n"
"# Script to perform performance tests - add your tests here\n"
"# If you will be testing manually, you don't need this section\n"
"[[files]]\n"
"path = \"/usr/lib/init.d/99_tests\"\n"
"data = \"\"\"\n"
"echo Waiting for startup to complete...\n"
"sleep 5\n"
"echo\n"
"echo Running tests...\n"
"ion -x /usr/bin/perf_tests.sh\n"
"echo Shutting down...\n"
"shutdown\n"
"\"\"\"\n"
"```"
msgstr ""

#: src/performance.md:108
msgid ""
"In the `redox` directory, create the file `.config` with the following "
"content:"
msgstr ""

#: src/performance.md:111
msgid "# This needs to match the name of your filesystem config file"
msgstr ""

#: src/performance.md:112
msgid "my_profiler"
msgstr ""

#: src/performance.md:114
msgid "5"
msgstr ""

#: src/performance.md:116
msgid "8192"
msgstr ""

#: src/performance.md:118
msgid "no"
msgstr ""

#: src/performance.md:121
msgid ""
"In the `redox` terminal window, run the `make rp.kernel` (or `make rebuild` "
"if needed) command."
msgstr ""

#: src/performance.md:123
msgid "Profiling"
msgstr ""

#: src/performance.md:125
msgid ""
"In your `redox` terminal window, run `make qemu` or your preferred VM "
"command, and perform your testing. You will see console messages indicating "
"that profile data is being logged. **Exit QEMU or your VM** before "
"proceeding, if it did not exit automatically."
msgstr ""

#: src/performance.md:127
msgid "In the `redox` directory, run the following commands."
msgstr ""

#: src/performance.md:130
msgid "# Create a directory for your data\n"
msgstr ""

#: src/performance.md:135
msgid ""
"# Make the Redox filesystem accessible at the path based on CONFIG_NAME\n"
msgstr ""

#: src/performance.md:140
msgid "# Copy the profiling data from the Redox image to your directory\n"
msgstr ""

#: src/performance.md:145
msgid "# Important - unmount the Redox filesystem\n"
msgstr ""

#: src/performance.md:149
msgid "`cd` into the new directory and generate a symbol table for the kernel."
msgstr ""

#: src/performance.md:159
msgid ""
"The next step is to determine the TSC frequency. TL;DR - just use your CPU "
"clock rate in GHz. The TSC is a counter that tracks the clock cycles since "
"the system was powered on. The TSC frequency can vary based when power "
"saving is enabled, but Redox does not implement this yet, so CPU GHz should "
"work fine."
msgstr ""

#: src/performance.md:161
msgid ""
"Determine what formatting options you want for your flamegraph - 'i' for "
"relaxed checking of function length, 'o' for reporting function plus offset "
"rather than just function, 'x' for both grouping by function and with offset."
msgstr ""

#: src/performance.md:163
msgid "In the directory `my_profiler_data`, generate the flamegraph."
msgstr ""

#: src/performance.md:169
msgid ""
"Replace the `x` with your preferred formatting options. Replace the `y.z` "
"with your TSC/CPU Clock frequency in GHz (`2.2`, for example)."
msgstr ""

#: src/performance.md:171
msgid "Then view your flamegraph in a browser."
msgstr ""

#: src/performance.md:177
msgid "Real Hardware (untested)"
msgstr ""

#: src/performance.md:179
msgid ""
"You need to set `HARDCODED_CPU_COUNT` to the number of actual CPU cores - 1, "
"and there must be at least 512 MiB reserved per core."
msgstr ""

#: src/performance.md:181
msgid ""
"Boot the system, and when you're done profiling, kill `profiled` and extract "
"`/root/profiling.txt` (Details TBD)"
msgstr ""

#: src/performance.md:183
msgid "Benchmarks"
msgstr ""

#: src/performance.md:185
msgid "This section give some commands to benchmark Redox."
msgstr ""

#: src/performance.md:195
msgid "RAM benchmark"
msgstr ""

#: src/performance.md:201
msgid "Filesystem read speed benchmark"
msgstr ""

#: src/performance.md:203 src/performance.md:211
msgid ""
"(Add the `neverball` recipe on your filesystem image, you can also install "
"it with the `sudo pkg install neverball` command)"
msgstr ""

#: src/performance.md:209
msgid "Filesystem write speed benchmark"
msgstr ""
